<!doctype html>
<html lang="ru">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>С Днём Рождения, Кирилл!</title>
<style>
html,body {
  margin:0; padding:0; height:100%;
  background: radial-gradient(1200px 700px at 10% 10%, #07243a 0%, transparent 10%), linear-gradient(180deg,#081229,#0b2540);
  overflow:hidden;
  color:white; font-family: -apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial;
  -webkit-font-smoothing:antialiased;
}
h1 {
  font-size:48px; color:#ffd166; text-align:center;
  margin:0; text-shadow:0 0 20px rgba(255,209,102,0.3);
}
p {
  text-align:center; font-size:18px; line-height:1.6;
  max-width:700px; margin:20px auto; color:rgba(255,255,255,0.9);
}
canvas {
  position:absolute; inset:0; pointer-events:none; z-index:1;
}
.wrapper {
  position:relative; z-index:5; top:45%;
  transform:translateY(-50%); text-align:center; padding:0 20px;
}
audio { display:none; }
</style>
</head>
<body>
<canvas id="fireworks"></canvas>
<div class="wrapper">
  <h1>С Днём Рождения, Кирилл!</h1>
  <p>
    Пусть каждый новый день звучит, как чистый аккорд счастья — громкий, честный и настоящий.<br>
    Живи ярко, думай смело, мечтай громко.<br>
    Твоя жизнь — это музыка, Кирилл.
  </p>
</div>

<audio id="music" loop autoplay>
  <source src="smokedope_foamposite_interlude.mp3.m4a" type="audio/mp4">
</audio>

<script>
function rand(min,max){return Math.random()*(max-min)+min}
function int(min,max){return Math.floor(rand(min,max+1))}
const canvas=document.getElementById('fireworks');
const ctx=canvas.getContext('2d');
let cw,ch;
function resize(){cw=canvas.width=innerWidth;ch=canvas.height=innerHeight;}
addEventListener('resize',resize);resize();
class Particle{
  constructor(x,y,vx,vy,hue,life,size){this.x=x;this.y=y;this.vx=vx;this.vy=vy;this.hue=hue;this.life=life;this.size=size;this.alpha=1;}
  update(dt){this.vy+=0.02*dt;this.x+=this.vx*dt;this.y+=this.vy*dt;this.alpha-=0.02*dt;this.life-=dt;}
  draw(){ctx.beginPath();ctx.globalCompositeOperation='lighter';
    const g=ctx.createRadialGradient(this.x,this.y,0,this.x,this.y,this.size*4);
    g.addColorStop(0,`hsla(${this.hue},100%,65%,${Math.max(this.alpha,0)})`);
    g.addColorStop(0.4,`hsla(${this.hue},100%,55%,${Math.max(this.alpha-0.15,0)})`);
    g.addColorStop(1,`hsla(${this.hue},60%,30%,0)`);
    ctx.fillStyle=g;ctx.arc(this.x,this.y,this.size,0,Math.PI*2);ctx.fill();}
}
let particles=[];let last=performance.now();
function loop(now){const dt=Math.min((now-last)/16,4);last=now;
  ctx.clearRect(0,0,cw,ch);
  ctx.fillStyle='rgba(5,8,15,0.15)';
  ctx.fillRect(0,0,cw,ch);
  for(let i=particles.length-1;i>=0;i--){const p=particles[i];p.update(dt);
    if(p.life<=0||p.alpha<=0){particles.splice(i,1);continue;}
    p.draw();
  }
  requestAnimationFrame(loop);
}
requestAnimationFrame(loop);
function burst(x,y){
  const hue=int(0,360);
  for(let i=0;i<int(60,100);i++){
    const ang=rand(0,Math.PI*2);const spd=rand(1,6);
    particles.push(new Particle(x,y,Math.cos(ang)*spd,Math.sin(ang)*spd,hue,rand(30,70),rand(1,4)));
  }
}
function autoFire(){
  burst(rand(cw*0.1,cw*0.9),rand(ch*0.1,ch*0.6));
  setTimeout(autoFire,rand(800,1500));
}
autoFire();

// лёгкий поток конфетти
const confettiColors=['#ffd166','#06d6a0','#118ab2','#ef476f','#ffd6a5'];
function createConfetti(){
  const el=document.createElement('div');
  const size=int(6,12);
  el.style.position='fixed';
  el.style.left=int(0,100)+'%';
  el.style.top='-20px';
  el.style.width=size+'px';
  el.style.height=size*1.4+'px';
  el.style.background=confettiColors[int(0,confettiColors.length-1)];
  el.style.opacity=rand(0.7,1);
  el.style.transform='rotate('+int(0,360)+'deg)';
  el.style.zIndex='10';
  document.body.appendChild(el);
  const dur=rand(4000,7000);
  el.animate([{transform:`translateY(0)`},{transform:`translateY(${innerHeight+50}px)`}],{duration:dur,easing:'linear'});
  setTimeout(()=>el.remove(),dur);
}
setInterval(createConfetti,120);
</script>
</body>
</html>